"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[869],{7869:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var n=r(5861),a=r(885),s=r(7757),u=r.n(s),i=r(2791),c=r(501),o=r(3170),h=r(2072),l=r(3439),p="MovieSearch_searchForm__8c7z6",f="MovieSearch_button__LdFnP",v="MovieSearch_icon__o-0yw",d="MovieSearch_input__ixDAZ",y="MovieSearch_noResults__jQn0p",g="MovieSearch_load__6WVqO",m=r(184),Z=function(){var e=(0,c.lr)(),t=(0,a.Z)(e,2),r=t[0],s=t[1],Z=(0,i.useState)([]),x=(0,a.Z)(Z,2),_=x[0],w=x[1],b=(0,i.useState)("idle"),k=(0,a.Z)(b,2),j=k[0],S=k[1];(0,i.useEffect)((function(){var e=new AbortController;h.Z.signal=e.signal;var t=function(){var e=(0,n.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S("loading"),e.prev=1,e.next=4,h.Z.search();case 4:t=e.sent,w(t.results),t.results.length?S("resolved"):S("noResults"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),a=r.get("query");return h.Z.query===a&&"idle"!==j||(h.Z.query=a,a&&t()),function(){e.abort()}}),[r,j]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("form",{className:p,onSubmit:function(e){e.preventDefault();var t=e.target[1].value.trim();e.target[1].value="",t||S("noQuery"),s(t?{query:t}:{})},children:[(0,m.jsx)("button",{type:"submit",className:f,children:"loading"===j?(0,m.jsx)("svg",{className:g,children:(0,m.jsx)("use",{href:"".concat(l.Z,"#load")})}):(0,m.jsx)("svg",{className:v,children:(0,m.jsx)("use",{href:"".concat(l.Z,"#search")})})}),(0,m.jsx)("input",{className:d,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"})]}),"noResults"===j&&(0,m.jsx)("div",{className:y,children:"Sorry, there are no movies matching your search query. Please try again."}),"noQuery"===j&&(0,m.jsx)("div",{className:y,children:"You didn't enter anything in the search box. Please try again."}),"resolved"===j&&(0,m.jsx)(o.OM,{list:_})]})}},2072:function(e,t,r){var n=r(5861),a=r(5671),s=r(3144),u=r(6274),i=r(9359),c=r(7757),o=r.n(c),h=r(4569),l=r.n(h);l().defaults.baseURL="https://api.themoviedb.org/3";var p="ba6eefe67f978283c5f8594635575ba8",f=(0,i.Z)("query"),v=(0,i.Z)("fetch"),d=function(){function e(){(0,a.Z)(this,e),Object.defineProperty(this,v,{value:y}),Object.defineProperty(this,f,{writable:!0,value:""}),this.page=1}return(0,s.Z)(e,[{key:"query",get:function(){return(0,u.Z)(this,f)[f]},set:function(e){this.signal=null,this.page=1,(0,u.Z)(this,f)[f]=e}},{key:"search",value:function(){var e=(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)(this,v)[v]("search/movie");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTrend",value:function(){var e=(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)(this,v)[v]("trending/movie/day");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMovie",value:function(){var e=(0,n.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)(this,v)[v]("movie/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCredits",value:function(){var e=(0,n.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)(this,v)[v]("movie/".concat(t,"/credits"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReviews",value:function(){var e=(0,n.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)(this,v)[v]("movie/".concat(t,"/reviews"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function y(e){return g.apply(this,arguments)}function g(){return(g=(0,n.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(t,{params:{api_key:p,query:(0,u.Z)(this,f)[f],page:this.page},signal:this.signal});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}t.Z=new d}}]);
//# sourceMappingURL=869.0ab9c15c.chunk.js.map