{"version":3,"file":"static/js/254.03e5ba1d.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MovieCard/MovieCard.module.css?a4e5","components/MovieCard/MovieCard.jsx","services/delivery.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieCard_container__4KN1P\",\"info\":\"MovieCard_info__QTHMi\",\"line\":\"MovieCard_line__v5QM0\",\"thumb\":\"MovieCard_thumb__sHUWH\",\"button\":\"MovieCard_button__EDTGb\"};","import {\n    useParams,\n    NavLink,\n    Route,\n    Routes,\n    useLocation,\n    useNavigate,\n} from 'react-router-dom';\nimport { useEffect, useState, lazy, Suspense } from 'react';\nimport { ImArrowLeft } from 'react-icons/im';\nimport delivery from 'services/delivery';\nimport s from './MovieCard.module.css';\nimport poster from 'images/noposter.jpg';\n\nconst CastInfo = lazy(() => import('components/CastInfo/CastInfo'));\nconst ReviewsInfo = lazy(() => import('components/ReviewsInfo/ReviewsInfo'));\n\nconst MovieCard = () => {\n    const location = useLocation();\n    const { movieId } = useParams();\n    const [movie, setMovie] = useState(null);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const controller = new AbortController();\n        delivery.signal = controller.signal;\n\n        async function getMovie() {\n            try {\n                const data = await delivery.getMovie(movieId);\n                data.poster = data.poster_path\n                    ? `https://image.tmdb.org/t/p/w300/${data.poster_path}`\n                    : poster;\n                data.genres = data.genres.map(genre => genre.name).join(', ');\n                setMovie(data);\n            } catch (error) {\n                console.log(error);\n            }\n        }\n\n        getMovie();\n\n        return () => {\n            controller.abort();\n        };\n    }, [movieId]);\n\n    const goToBack = () =>\n        location.state ? navigate(location.state.from) : navigate('/');\n\n    return (\n        movie && (\n            <div className={s.container}>\n                <button className={s.button} onClick={() => goToBack()}>\n                    <ImArrowLeft /> Go Back\n                </button>\n                <div className={s.info}>\n                    <img src={movie.poster} alt={movie.title} width=\"300\" />\n                    <div>\n                        <h2>\n                            {movie.original_title} (\n                            {movie.release_date.slice(0, 4) ||\n                                'release date is unknown'}\n                            )\n                        </h2>\n                        <span>\n                            User score: {Math.round(movie.vote_average * 10)}%\n                        </span>\n                        <h3>Overview</h3>\n                        <p>{movie.overview}</p>\n                        <h3>Genres</h3>\n                        <p>{movie.genres}</p>\n                    </div>\n                </div>\n                <div className={s.line}></div>\n                <h4>Additional information</h4>\n                <div className={s.thumb}>\n                    <NavLink to=\"cast\" state={{ from: location }}>\n                        Cast\n                    </NavLink>\n                    <NavLink to=\"reviews\" state={{ from: location }}>\n                        Reviews\n                    </NavLink>\n                </div>\n                <div className={s.line}></div>\n                <Suspense>\n                    <Routes>\n                        <Route path=\"cast\" element={<CastInfo />} />\n                        <Route path=\"reviews\" element={<ReviewsInfo />} />\n                    </Routes>\n                </Suspense>\n            </div>\n        )\n    );\n};\n\nexport default MovieCard;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'ba6eefe67f978283c5f8594635575ba8';\n\nclass Delivery {\n    #query = '';\n    page = 1;\n\n    set query(newQuery) {\n        this.signal = null;\n        this.page = 1;\n        this.#query = newQuery;\n    }\n\n    get query() {\n        return this.#query;\n    }\n\n    async search() {\n        return await this.#fetch('search/movie');\n    }\n\n    async getTrend() {\n        return await this.#fetch('trending/movie/day');\n    }\n\n    async getMovie(id) {\n        return await this.#fetch(`movie/${id}`);\n    }\n\n    async getCredits(id) {\n        return await this.#fetch(`movie/${id}/credits`);\n    }\n\n    async getReviews(id) {\n        return await this.#fetch(`movie/${id}/reviews`);\n    }\n\n    async #fetch(typeRequest) {\n        const response = await axios.get(typeRequest, {\n            params: {\n                api_key: API_KEY,\n                query: this.#query,\n                page: this.page,\n            },\n            signal: this.signal,\n        });\n        return response.data;\n    }\n}\n\nexport default new Delivery();\n"],"names":["CastInfo","lazy","ReviewsInfo","location","useLocation","movieId","useParams","useState","movie","setMovie","navigate","useNavigate","useEffect","controller","AbortController","delivery","data","poster","poster_path","genres","map","genre","name","join","console","log","signal","getMovie","abort","className","s","onClick","state","from","src","alt","title","width","original_title","release_date","slice","Math","round","vote_average","overview","to","Suspense","path","element","axios","API_KEY","Delivery","page","this","newQuery","id","typeRequest","params","api_key","query","response"],"sourceRoot":""}